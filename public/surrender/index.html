<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Register Pet</title>
    <link rel = "icon" href ="/surrender/img/paw_logo.png">
   <link rel="stylesheet" type="text/css" href="index-style.css">
</head>
<body>
        <div class="navbar">
            <div class="navbar__container">
                <h1 id="navbar__logo">Pet Surrender Form</h1>
            </div>
        </div>
        <div class="form">
            <form id="myForm" enctype="multipart/form-data" method="post" action="/insert">

                    <!-- Owner Information Section -->
                    <div class="form-section">
                        <h1>Owner Information</h1>
                        <div class="form-text">
                            <div class="form-field">
                                <label for="date">Select date:</label><br>
                                <input type="date" id="date" name="date">
                            </div>
                            <div class="form-field">
                                <label for="name">Name:</label><br>
                                <input type="text" id="name" name="name" placeholder="Enter Name"readonly>
                            </div>
                            <div class="form-field">
                                <label for="address">Address:</label><br>
                                <input type="text" id="address" name="address" placeholder="Enter Address"readonly>
                            </div>
                            <div class="form-field">
                                <label for="age">Age:</label><br>
                                <input type="number" id="age" name="age" placeholder="Enter Age"readonly>
                            </div>
                            <div class="form-field">
                                <label for="email">Email:</label><br>
                                <input type="email" id="email" name="email" placeholder="Enter Email"readonly>
                            </div>
                            <div class="form-field">
                                <label for="mno">Contact:</label><br>
                                <input type="number" id="mno" name="mno" placeholder="Enter contact information"readonly>
                            </div>
                        </div>
                    </div>
        
                    <!-- Pet Information Section -->
                    <div class="form-section">
                        <h1>Pet Information</h1>
                        <div class="form-text">
                            <div class="form-field">
                                <label for="species">Species:</label><br>
                                <input type="text" id="species" name="species" placeholder="Enter species">
                            </div>
                            <div class="form-field">
                                <label for="petname">Pet Name:</label><br>
                                <input type="text" id="petname" name="petname" placeholder="Enter The name of the Pet">
                            </div>
                            <div class="form-field">
                                <label for="breed">Breed:</label><br>
                                <input type="text" id="breed" name="breed" placeholder="Enter The breed of the Pet">
                            </div>
                            <div class="form-field">
                                <label>Gender:</label><br>
                                <input type="radio" name="gender" value="male">Male
                                <input type="radio" name="gender" value="female">Female
                            </div>
                            <div class="form-field">
                                <label>Size:</label><br>
                                <select name="size">
                                    <option value="small">Small</option>
                                    <option value="medium">Medium</option>
                                    <option value="large">Large</option>
                                </select>
                            </div>
                            <div class="form-field"> 
                                <label for="petpic">Petpicture:</label><br>
                                <input type="file" id="petpic" name="petpic">
                            </div> 
                        </div>
                    </div>
        
                    <div class="form-field-submit">
                        <input type="submit" value="Submit">
                    </div>
                </form>
         </div>
        </div>
        <script>
             document.addEventListener("DOMContentLoaded", function () {
    // Fetch user profile data
    fetch('/profile', {
        method: 'POST',
        credentials: 'same-origin',
    })
    .then(response => response.json())
    .then(data => {
        const applicantNameInput = document.getElementById('name');
        const ageInput = document.getElementById('age');
        const emailInput = document.getElementById('email');
        const addressInput = document.getElementById('address');
        const contactInput = document.getElementById('mno');

        // Assuming the server response structure has a property 'applicantData'
        if (data.appdata && data.appdata.length > 0) {
            const applicantData = data.appdata[0];

            
            addressInput.value = applicantData.addu; 
            contactInput.value = applicantData.umno; 
            applicantNameInput.value = applicantData.fname; // Change 'fname' to the actual property name in your data
            ageInput.value = applicantData.ageu; // Change 'ageu' to the actual property name in your data
            emailInput.value = applicantData.email; // Change 'email' to the actual property name in your data

            // Set the selected radio button based on gender
            genderInputs.forEach(input => {
                if (input.value === applicantData.ugen) { // Change 'ugen' to the actual property name in your data
                    input.checked = true;
                 
                }
            });
        }
    })
    .catch(error => {
        console.error('Error fetching profile data:', error);
        // Handle the error, e.g., display an error message to the user
    });
});

        </script>
</body>
<script src="index.js"></script>
</html> 